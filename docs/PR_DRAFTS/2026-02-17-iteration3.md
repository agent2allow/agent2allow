# [SEC][REL] Add idempotency keys for tool calls + SDK approval snippets

## Problem
- Agent retries could duplicate tool-call effects because `/v1/tool-calls` had no idempotency mechanism.
- SDK onboarding lacked clear copy-paste examples for approval and retry-safe flows.

## Solution
- Added `X-Idempotency-Key` support for `/v1/tool-calls`.
- Added request fingerprinting and SQLite idempotency record store.
- Replays return cached result with `idempotent_replay=true`.
- Reusing a key with a different payload returns `409`.
- Added integration tests for replay and conflict scenarios.
- Added JS/Python SDK READMEs with approval + idempotency examples.

## How to test
```bash
cd gateway && ruff check src tests
cd gateway && pytest -q
cd ui && npm run lint
cd ui && npm test --silent
```

## Breaking changes
- None. `X-Idempotency-Key` is optional and backward-compatible.
